"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[357],{6662:(t,e,a)=>{a.d(e,{Z:()=>o});var n=a(3645),i=a.n(n)()((function(t){return t[1]}));i.push([t.id,".container[data-v-0a4d231e]{max-width:720px}",""]);const o=i},3357:(t,e,a)=>{a.r(e),a.d(e,{default:()=>c});var n=a(142);const i={name:"Update",data:function(){return{name:null,image:null,hidden_content:null,admin:!1,categories:null,category_id:null,skill:null,statePict:!0}},mounted:function(){this.statusAdmin(),this.getCategories(),this.getSkill()},methods:{StoreImage:function(){},UpdateSkill:function(){var t=this,e=new FormData;e.append("image",this.$refs.image.files[0]),e.append("name",this.name),e.append("hidden_content",this.hidden_content),e.append("category_id",this.category_id),e.append("old_image",this.image),e.append("_method","PATCH"),n.Z.post("/api/auth/skills/"+this.$route.params.id,e).then((function(e){console.log(e.data),t.$router.push({name:"admin.index"})})).catch((function(t){console.log(t)}))},statusAdmin:function(){var t=this;n.Z.get("/api/auth/fruits").then((function(e){"1"==e.data&&(t.admin=!0)})).catch((function(e){t.admin=!1}))},getCategories:function(){var t=this;n.Z.get("/api/auth/categories").then((function(e){t.categories=e.data})).catch((function(t){}))},getSkill:function(){var t=this;n.Z.get("/api/auth/skills/"+this.$route.params.id).then((function(e){t.skill=e.data,t.name=e.data.name,t.image=e.data.image,console.log(t.image),t.hidden_content=e.data.hidden_content,t.category_id=e.data.category_id})).catch((function(t){}))},hiddePict:function(){this.statePict=!1}}};var o=a(3379),s=a.n(o),l=a(6662),r={insert:"head",singleton:!1};s()(l.Z,r);l.Z.locals;const c=(0,a(1900).Z)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.admin&&t.skill?a("div",{staticClass:"container"},[a("h1",[t._v("Создание технологий")]),t._v(" "),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleFormControlInput1"}},[t._v("Название")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlInput1"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label"},[t._v("Загрузить файл")]),a("br"),t._v(" "),t.statePict?a("div",[a("h4",[t._v("Ваш файл")]),t._v(" "),a("img",{attrs:{src:t.image,width:"90px",height:"90px",alt:""}})]):t._e(),t._v(" "),a("br"),t._v(" "),a("label",{attrs:{for:"exampleFormControlInput2"},on:{click:t.hiddePict}},[a("br"),t._v(" "),a("div",{staticClass:"btn btn-primary"},[t._v("Выбрать другой")]),a("br"),t._v(" "),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"image",attrs:{type:"file",id:"exampleFormControlInput2"},on:{change:t.StoreImage}})]),t._v(" "),a("br")]),t._v(" "),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleFormControlInput3"}},[t._v("Дополнительное описание")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.hidden_content,expression:"hidden_content"}],staticClass:"form-control",attrs:{id:"exampleFormControlTextarea1",rows:"3"},domProps:{value:t.hidden_content},on:{input:function(e){e.target.composing||(t.hidden_content=e.target.value)}}})]),t._v(" "),t.categories?a("select",{directives:[{name:"model",rawName:"v-model",value:t.category_id,expression:"category_id"}],staticClass:"form-select mb-3",attrs:{"aria-label":"Default select example"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.category_id=e.target.multiple?a:a[0]}}},t._l(t.categories,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.tittle))])})),0):t._e(),t._v(" "),a("button",{staticClass:"btn btn-success",on:{click:function(e){return e.preventDefault(),t.UpdateSkill.apply(null,arguments)}}},[t._v("Обновить")])]):t._e()])}),[],!1,null,"0a4d231e",null).exports}}]);